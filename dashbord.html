<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>User Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="dashbord.css">
</head>
<body>
    <aside class="sidebar">
        <ul class="sidebar-menu">
          <li class="has-submenu">
            <i class="bi r bi-house"></i> Home
            <ul class="submenu">
              <li><a href="dashbord.html"> Dashboard</a></li>
              <li>News</li>
              <li>Updates</li>
            </ul>
          </li>
          <li class="has-submenu">
            <i class="bi r bi-controller"></i> Categories
            <ul class="submenu">
              <li>Action</li>
              <li>Fantasy</li>
              <li>Romance</li>
              <li>Drama</li>
              <li>Sci-Fic</li>
              <li>Tragdey</li>
              <li>Dark</li>
            </ul>
          </li>
          <li><i class="bi r bi-star"></i> Favorites</li>
          <li class="has-submenu">
            <i class="bi r bi-heart-fill" style="color: blue;"></i> Profile
            <ul class="submenu">
              <li>Account</li>
              <li>Settings</li>
              <li>Logout</li>
            </ul>
          </li>
          <li><i class="bi r bi-search"></i> Search</li>
          <li><i class="bi r bi-heart"></i> Liked</li>
          <li><i class="bi r bi-info-circle"></i> About</li>
        </ul>
    </aside>
    <div class="content-wrapper">
      <section class="user-dashboard">
        <h2 class="section-title">User Dashboard</h2>
        <div class="user-profile-box">
            <div class="user-profile-left">
              <img src="image/doge.jpg" alt="User Avatar" class="profile-pic large">
              <div class="user-profile-info">
                <h3>John Doe</h3>
                <p><i class="bi bi-envelope-fill"></i> johndoe@example.com</p>
                <p><i class="bi bi-telephone-fill"></i> 98-234-564-53</p>
                <p><i class="bi bi-pencil-fill"></i> <a href="#">Edit profile</a></p>
              </div>
            </div>
            <div class="user-stats">
                <div class="stat-box">
                  <i class="bi bi-people-fill"></i>
                  <div class="stat-info">
                    <h4>120</h4>
                    <p>Followers</p>
                  </div>
                </div>
                <div class="stat-box">
                  <i class="bi bi-chat-left-text-fill"></i>
                  <div class="stat-info">
                    <h4>35</h4>
                    <p>Posts</p>
                  </div>
                </div>
                <div class="stat-box">
                  <i class="bi bi-book-fill"></i>
                  <div class="stat-info">
                    <h4>78</h4>
                    <p>Books Read</p>
                  </div>
                </div>
                <div class="stat-box">
                  <i class="bi bi-bookmark-heart-fill"></i>
                  <div class="stat-info">
                    <h4>14</h4>
                    <p>Saved Posts</p>
                  </div>
                </div>
              </div>
          </div>     
        <div class="dashboard-section">
            <h3 class="dashboard-subtitle"><i class="bi bi-bag-fill"></i> Purchase History</h3>
            <div class="book-horizontal-scroll">
              <div class="book-box">
                <img src="image/attachment_39493946.jpg" alt="Book" class="book-cover">
                <p><strong>The Last Kingdom</strong><br>May 20, 2025</p>
              </div>
              <div class="book-box">
                <img src="image/book1-sketch2_col3.jpg" alt="Book" class="book-cover">
                <p><strong>Mistborn: The Final Empire</strong><br>May 5, 2025</p>
              </div>
              <div class="book-box">
                <img src="image/The-Curse-of-Infinity-by-Rachel-Hetrick.png" alt="Book" class="book-cover">
                <p><strong>Warbreaker</strong><br>April 12, 2025</p>
              </div>
            </div>
          </div>
          <div class="dashboard-section">
            <h3 class="dashboard-subtitle"><i class="bi bi-journal-bookmark-fill"></i> Currently Reading</h3>
            <div class="book-horizontal-scroll">
              <div class="book-box">
                <img src="image/imagesew.jpg" class="book-cover" alt="Book">
                <h4>The Way of Kings</h4>
                <div class="progress-bar bar"><div class="progress one" style="width: 70%;"></div></div>
                <p>70% completed</p>
              </div>
              <div class="book-box">
                <img src="image/attachment_39493946.jpg" class="book-cover" alt="Book">
                <h4>Harry Potter and the Goblet of Fire</h4>
                <div class="progress-bar bar"><div class="progress two" style="width: 45%;"></div></div>
                <p>45% completed</p>
              </div>
              <div class="book-box">
                <img src="image/The-Curse-of-Infinity-by-Rachel-Hetrick.png" class="book-cover" alt="Book">
                <h4>The Hobbit</h4>
                <div class="progress-bar bar"><div class="progress three" style="width: 90%;"></div></div>
                <p>90% completed</p>
              </div>
            </div>
        </div>
      </section>
      <div class="dashboard-section">
        <h3 class="dashboard-subtitle"><i class="bi bi-heart-fill"></i> Favorites</h3>
        <div class="charts-grid">
            <div class="chart-box">
                <h4>Books Read per Year</h4>
                <canvas class="chart" id="barChart"></canvas>
                <p class="chart-description">
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed tempor, sapien a fermentum finibus, lorem justo dignissim nisi, sed dictum sapien metus vel nulla.
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed tempor, sapien a fermentum finibus, lorem justo dignissim nisi, sed dictum sapien metus vel nulla.
                </p>
              </div>              
          <div class="chart-box">
            <h4>Favorite Genres</h4>
            <canvas class="chart" id="pieChart"></canvas>
          </div>
          <div class="chart-box">
            <h4>Activity by Hour</h4>
            <canvas class="chart" id="areaChart"></canvas>
          </div>
        </div>
      </div>
      <section class="user-level-section">
        <div class="user-level-left">
          <h3 class="level-title">Profile Level</h3>
          <p><strong>Username:</strong> John Doe</p>
          <p><strong>Level:</strong> Book Dragon</p>
          <p><strong>XP:</strong> 1420 / 2000</p>
          <div class="level-progress-bar">
            <div data-width="71%" class="level-progress bar" style="width: 71%;"></div>
          </div>
          <p class="next-level-text">Next level: <strong>Legendary Reader</strong></p>
        </div>
        <div class="user-level-right">
          <img src="image/dragon--logo-vector-illustration-png_96935-removebg-preview.png" alt="Level Icon" class="level-image">
        </div>
      </section>
      <footer class="footer-section">
        <div class="footer-container">
          <div class="footer-left">
            <h3>Contact Us</h3>
            <div class="contact-item"><i class="bi bi-telephone-fill"></i> 123-456-789</div>
            <div class="contact-item"><i class="bi bi-telegram"></i> @bookworld</div>
            <div class="contact-item"><i class="bi bi-instagram"></i> @bookworld.official</div>
            <div class="contact-item"><i class="bi bi-github"></i> github.com/bookworld</div>
            <div class="contact-item"><i class="bi bi-facebook"></i> facebook.com/bookworld</div>
          </div>
          <div class="footer-right">
            <h3>Legal</h3>
            <p>Â© 2025 BookWorld. All rights reserved.</p>
            <p>Unauthorized use of content is prohibited.</p>
            <p>This website is protected by intellectual property laws.</p>
          </div>
        </div>
      </footer>
    </div>
</body>
<script>
  const charts = {
    barChart: {
      ctx: document.getElementById("barChart").getContext("2d"),
      rendered: false,
      render: () => {
        new Chart(charts.barChart.ctx, {
          type: 'bar',
          data: {
            labels: ['2020', '2021', '2022', '2023', '2024'],
            datasets: [{
              label: 'Books Read',
              data: [12, 15, 9, 18, 22],
              backgroundColor: '#4da6ff'
            }]
          },
          options: {
            animation: { duration: 1000 },
            scales: {
              y: { beginAtZero: true, ticks: { color: '#ccc' } },
              x: { ticks: { color: '#ccc' } }
            },
            plugins: {
              legend: { labels: { color: '#ccc' } }
            }
          }
        });
        charts.barChart.rendered = true;
      }
    },
    pieChart: {
      ctx: document.getElementById("pieChart").getContext("2d"),
      rendered: false,
      render: () => {
        new Chart(charts.pieChart.ctx, {
          type: 'pie',
          data: {
            labels: ['Fantasy', 'Sci-Fi', 'Romance', 'Thriller'],
            datasets: [{
              data: [40, 25, 20, 15],
              backgroundColor: ['#4da6ff', '#5cd3ff', '#ff6384', '#ffc107']
            }]
          },
          options: {
            animation: { duration: 1000 },
            plugins: {
              legend: { labels: { color: '#ccc' } }
            }
          }
        });
        charts.pieChart.rendered = true;
      }
    },
    areaChart: {
      ctx: document.getElementById("areaChart").getContext("2d"),
      rendered: false,
      render: () => {
        new Chart(charts.areaChart.ctx, {
          type: 'line',
          data: {
            labels: ['0-3 AM', '3-6 AM', '6-9 AM', '9-12 PM', '12-3 PM', '3-6 PM', '6-9 PM', '9-12 AM'],
            datasets: [{
              label: 'Active Hours',
              data: [2, 1, 3, 6, 4, 7, 5, 3],
              fill: true,
              backgroundColor: 'rgba(77, 166, 255, 0.2)',
              borderColor: '#4da6ff',
              tension: 0.3
            }]
          },
          options: {
            animation: { duration: 1000 },
            scales: {
              y: { beginAtZero: true, ticks: { color: '#ccc' } },
              x: { ticks: { color: '#ccc' } }
            },
            plugins: {
              legend: { labels: { color: '#ccc' } }
            }
          }
        });
        charts.areaChart.rendered = true;
      }
    }
  };
  var observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const id = entry.target.id;
        if (charts[id] && !charts[id].rendered) {
          charts[id].render();
        }
      }
    });
  }, { threshold: 0.4 });
  document.querySelectorAll('.chart').forEach(chart => observer.observe(chart));
  var observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      const id = entry.target.id;
      if (charts[id] && !charts[id].rendered) {
        charts[id].render();
      }
      if (entry.target.classList.contains("bar")) {
        const targetWidth = entry.target.getAttribute("data-width") || "100%";
        entry.target.style.transition = "none";
        entry.target.style.width = "0%";
        setTimeout(() => {
          entry.target.style.transition = "width 0.3s ease-out";
          entry.target.style.width = targetWidth;
        }, 50); 
      }
    }
  });
}, { threshold: 0.4 });
document.querySelectorAll(".bar").forEach(bar => {
  observer.observe(bar);
});
</script>
</html>
